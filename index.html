<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Technical Documentation Page - Writing a Django app</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
  </head>

  <body>

    <nav id="navbar">
      <header>All Topics</header>
      <a class="nav-link" href="#introduction">Introduction</a>
      <a class="nav-link" href="#PART_1">Part 1</a>
      <a class="nav-link" href="#PART_2">Part 2</a>
      <a class="nav-link" href="#PART_3">Part 3</a>
      <a class="nav-link" href="#PART_4">Part 4</a>
      <a class="nav-link" href="#PART_5">Part 5</a>
      <a class="nav-link" href="#PART_6">Part 6</a>
      <a class="nav-link" href="#PART_7">Part 7</a>
    </nav>

    <main id="main-doc">
      <section class="main-section" id="introduction">
        <header>Introduction</header>
        <h1>Writing a Django app</h1>
        <p>Welcome! This is a humble walkthrough to set up and running a Django app. I previously set up my project and
          configured it to deploy it in Heroku.</p>
        <p>A great guide to do this is <a
            href="https://medium.com/@BennettGarner/deploying-django-to-heroku-procfile-static-root-other-pitfalls-e7ab8b2ba33b">this
            one</a>. Make sure to follow every step from this guide and to complete <a
            href="https://medium.com/@BennettGarner/deploying-django-to-heroku-connecting-heroku-postgres-fcc960d290d1">the
            second part</a> as well.</p>
        <p>I'll be using the Django documentation so feel free to check the <a
            href="https://docs.djangoproject.com/en/2.2/">website</a> if doesn't click you right away, or you're having
          consistent errors.</p>
      </section>
      <br>
      <br>
      <section class="main-section" id="PART_1">
        <header>
          <h1><a href="https://docs.djangoproject.com/en/2.2/intro/tutorial01/">Part 1</a></h1>
        </header>
        <ol>
          <li>Creating a project</li><a href="#creating-project">Go!</a>
          <li>Development server</li><a href="#development-server">Go!</a>
          <li>Creating the App</li><a href="#creating-app">Go!</a>
          <li>Write your first view</li><a href="#write-view">Go!</a>
        </ol>
        <br>
        <article>
          <h2 id="creating-project">Creating a project</h2>
          <p>From the command line, <b>cd</b> into a directory where you‚Äôd like to store your code, then run the
            following
            command:</p>
          <code>django-admin startproject mysite</code>
          <p>Let‚Äôs look at what <b>startproject</b> created:</p>
          <pre>
        mysite/
          manage.py
          mysite/
            __init__.py
            settings.py
            urls.py
            wsgi.py
        </pre>

          <p>These files are:</p>
          <ul>
            <li>The <u>outer</u> <b>mysite/</b> root directory is just a container for your project. Its name doesn‚Äôt
              matter to Django; you can rename it to anything you like.</li>
            <li><b>manage.py</b>: A command-line utility that lets you interact with this Django project in various
              ways.
            </li>
            <li>The <u>inner</u> <b>mysite/</b> directory is the actual Python package for your project. Its name is the
              Python
              package name you‚Äôll
              need to use to import anything inside it (e.g. <b>mysite.urls</b>).</li>
            <li><b>mysite/__init__.py</b>: An empty file that tells Python that this directory should be considered a
              Python package.</li>
            <li><b>mysite/settings.py</b>: Settings/configuration for this Django project. Django settings will tell you
              all about how settings work.</li>
            <li><b>mysite/urls.py</b>: The URL declarations for this Django project; a ‚Äútable of contents‚Äù of your
              Django-powered site.</li>
            <li><b>mysite/wsgi.py</b>: An entry-point for WSGI-compatible web servers to serve your project.</li>
          </ul>
        </article>
        <br>
        <article>
          <h2 id="development-server">The development server</h2>
          <p>Verify your Django project works. Change into the outer mysite directory, if you haven‚Äôt already, and run
            the
            following
            commands:</p>
          <code>python manage.py runserver</code>
          <p>You'll see the following output on the command line:</p>
          <pre>
        Performing system checks...
        
        System check identified no issues (0 silenced).
        
        You have unapplied migrations; your app may not work properly until they are applied.
        Run 'python manage.py migrate' to apply them.
        
        June 11, 2019 - 15:50:53
        Django version 2.2, using settings 'mysite.settings'
        Starting development server at <a href="http://127.0.0.1:8000/">http://127.0.0.1:8000/</a>
        Quit the server with CONTROL-C.</pre>
          <blockquote>
            ‚ùó
            <p>Ignore the warning about unapplied database migrations for now; we‚Äôll deal with the database
              shortly.</p>
          </blockquote>
          <p>You‚Äôve started the Django development server, a lightweight Web server written purely in Python.</p>
          <p>It's included with Django so you can develop things rapidly, without having to deal with configuring a
            production server
            ‚Äì such as Apache ‚Äì until you‚Äôre ready for production.</p>
          <p>Now that the server‚Äôs running, visit <a href="http://127.0.0.1:8000/">http://127.0.0.1:8000/</a> with your
            Web browser. You‚Äôll see a ‚ÄúCongratulations!‚Äù page,
            with a rocket taking off. It worked!</p>
        </article>
        <br>
        <article>
          <h2 id="creating-app">Creating the App</h2>
          <p>This is we're I'll diverge from the Django tutorial, since my app will be a new blog, not a <a
              href="https://docs.djangoproject.com/en/2.2/intro/tutorial01/#creating-the-polls-app">poll</a>.</p>
          <p>Now that your environment ‚Äì a ‚Äúproject‚Äù ‚Äì is set up, you‚Äôre set to start doing work.</p>
          <p>Each application you write in Django consists of a Python package that follows a certain convention. Django
            comes with a
            utility that automatically generates the basic directory structure of an app, so you can focus on <b>writing
              code rather
              than creating directories</b>.</p>
          <blockquote>
            <p>üîë <b>Projects vs. apps</b></p>
            <p>An app is a Web application that does something ‚Äì e.g., a Weblog system, a database of public records or
              a
              simple blog
              app.</p>
            <p>An app can be in multiple projects.</p>
            <p>A project is a collection of configuration and apps for a particular website.</p>
            <p>A project can contain multiple apps.</p>
          </blockquote>

          <p>Your apps can live anywhere on your Python path.</p>
          <p>In this tutorial, we‚Äôll create our blog app right next to your <b>manage.py</b> file so that it can be
            imported as its own top-level module, rather than a submodule of <b>mysite</b>.</p>
          <p>To create your app, <u>make sure you‚Äôre in the same directory as <b>manage.py</b></u> and type this
            command:
          </p>
          <code>python manage.py startapp blog</code>
          <p>That‚Äôll create a directory polls, which is laid out like this:</p>
          <pre>
          blog/
            __init__.py
            admin.py
            apps.py
            migrations/
              __init__.py
            models.py
            tests.py
            views.py
        </pre>
          <p>This directory structure will house the blog application.</p>
        </article>
        <br>
        <article>
          <h2 id="write-view">Write your first view</h2>
          <p>Let‚Äôs write the first view. Open the file <b>blog/views.py</b> and put the following Python code in it:</p>
          <pre>
            from <b>django.http</b> import <em>HttpResponse</em>
            
            def index(request):
              return <em>HttpResponse</em>("Hello, world. You're at the blog index.")
          </pre>
          <p>This is the simplest view possible in Django.</p>
          <p>To call the view, we need to map it to a URL - and for this we need a <b>URLconf</b>.</p>
          <p>To create a URLconf in the blog directory, create a file called <b>urls.py</b>.</p>
          <p>Your app directory should now look like:</p>
          <pre>
          blog/
            __init__.py
            admin.py
            apps.py
            migrations/
              __init__.py
            models.py
            tests.py
            <b><em>urls.py</em></b>
            views.py
            </pre>
          <p>In the <b>blog/urls.py</b> file include the following code:</p>
          <pre>
            from <b>django.urls</b> import <em>path</em>
            from <b>.</b> import <em>views</em>
            
            urlpatterns = [
              path('', views.index, name='index'),
            ]
          </pre>
          <p>The next step is to point the root URLconf at the <b>blog.urls</b> module.</p>
          <p>In <b>mysite/urls.py</b>, add an
            import for <b>django.urls.include</b> and insert an <b>include()</b> in the <b>urlpatterns</b> list, so you
            have:</p>
          <pre>
            from <b>django.contrib</b> import <em>admin</em>
            from <b>django.urls</b> import <em>include, path</em>
            
            urlpatterns = [
              path('blog/', include('blog.urls')),
              path('admin/', admin.site.urls),
            ]
          </pre>
          <p>The <b>include()</b> function allows referencing other URLconfs.</p>
          <p>Whenever Django encounters <b>include()</b>, it chops off whatever part of the URL matched up to that point
            and sends the
            remaining string to the included URLconf for further processing.</p>
          <p>The idea behind <b>include()</b> is to make it easy to plug-and-play URLs.</p>
          <p>Since blog posts are in their own URLconf (<b>blog/urls.py</b>), they can be placed under ‚Äú/posts/‚Äù, or
            under ‚Äú/blog_posts/‚Äù, or
            under ‚Äú/content/blog/‚Äù, or any other path root, and the app will still work.</p>
        </article>
        <blockquote>
          <p>üìù <b>When to use include()</b></p>
          <p>You should always use <b>include()</b> when you include other URL patterns.</p>
          <p><b>admin.site.urls</b> is the only exception to this.</p>
        </blockquote>
        <br>
        <p>You have now wired an <b>index</b> view into the URLconf. Verify it‚Äôs working with the following command:</p>
        <code>python manage.py runserver</code>
        <p>Go to <a href="http://localhost:8000/blog/">http://localhost:8000/blog/</a> in your browser, and you should
          see the text ‚ÄúHello, world. You‚Äôre at the
          blog
          index.‚Äù, which you defined in the <b>index</b> view.</p>
        <p>If you see an error, check that you're going to <a
            href="http://localhost:8000/blog/">http://localhost:8000/blog/</a> NOT TO <a
            href="http://localhost:8000/">http://localhost:8000/</a>.</p>
        <p>The <b>path()</b> function is passed four arguments, two required: <b>route</b> and <b>view</b>, and two
          optional: <b>kwargs</b>,
          and <b>name</b>.</p>
        <p>Let‚Äôs review what these arguments are for.</p>
        <br>
        <h3>path() argument: <em>route</em></h3>
        <p><b>route</b> is a string that contains a URL pattern.</p>
        <p>When processing a request, Django starts at the first pattern in <b>urlpatterns</b> and makes its way down
          the list, comparing the requested URL against each pattern until it finds one that matches.</p>
        <p>Patterns don't search GET and POST parameters, or the domain name.</p>
        <p>For example, in a request to:</p>
        <ul>
          <li><b>https://www.example.com/myapp/</b>, the URLconf will look for <b>myapp/</b>;</li>
          <li><b>https://www.example.com/myapp/?page=3</b>,
            the URLconf will also look for <b>myapp/</b>.</li>
        </ul>
        <h3>path() argument: <em>view</em></h3>
        <p>When Django finds a matching pattern, it calls the specified view function with an <b>HttpRequest</b> object
          as the first argument and any "captured" values from the route as keyword arguments.</p>
        <h3>path() argument: <em>kwargs</em></h3>
        <p>Arbitrary keyword arguments can be passed in a dictionary to the target view. We won't use it in this
          tutorial.</p>
        <h3>path() argument: <em>name</em></h3>
        <p>Naming your URL lets you refer to it unambiguously from elsewhere in Django, especially from within
          templates.
          This powerful feature allows you to make global changes to the URL patterns of your project while only
          touching a single file.</p>
        <p>When you're comfortable with the basic request and response flow, <a href="#PART_2">keep reading</a> to start
          working with the database.</p>

      </section>
      <br>
      <br>
      <section class="main-section" id="PART_2">
        <header>
          <h1><a href="https://docs.djangoproject.com/en/2.2/intro/tutorial02/">Part 2</a></h1>
        </header>
        <code></code>
        <ol>
          <li>Database setup</li><a href="#db-setup">Go!</a>
          <li>Creating models</li><a href="#create-model">Go!</a>
          <li>Activating models</li><a href="#activate-model">Go!</a>
          <li>Playing with the API</li><a href="play-api">Go!</a>
          <li>Introducing the Django Admin</li><a href="#intro-admin">Go!</a>
        </ol>
        <br>
        <article>
          <h2 id="db-setup">Database setup</h2>
          <p>Open up <b>mysite/settings.py</b>. It‚Äôs a normal Python module with module-level variables representing
            Django settings.</p>
          <p>By default, the configuration uses SQLite. SQLite is included in Python, so you won‚Äôt need to install
            anything else to support your database.</p>
          <p>When starting your first real project, however, you may want to use a more scalable database like
            PostgreSQL, to avoid database-switching headaches down the road. <b>This is our case.</b></p>
          <p>We want to use PostgreSQL, then we'll install the appropriate database bindings and change the following
            keys
            in the DATABASES 'default' item to match your database connection settings:</p>
          <ul>
            <li><b>ENGINE</b> ‚Äì From <b>'django.db.backends.sqlite3'</b> to <b>'django.db.backends.postgresql'</b>.</li>
            <li><b>NAME</b> ‚Äì The name of your database. If you‚Äôre using SQLite, the database will be a file on your
              computer; in that case, <b>NAME</b> should be the full absolute path, including filename, of that file.
              The default value, os.path.join(BASE_DIR, 'db.sqlite3'), will store the file in your project directory.
            </li>
          </ul>
          <p>We are not using SQLite as our database, so we must add additional settings such as <b>USER</b>,
            <b>PASSWORD</b>, and <b>HOST</b>.</p>
        </article>

        <b>For databases other than SQLite</b>

        <p>As we‚Äôre using a PostgreSQL database and not SQLite, we need to make sure we create a database by this point.
          We do that with ‚Äú<b>CREATE DATABASE</b> database_name;‚Äù within your database‚Äôs interactive prompt.
          This depends a lot on your OS. I'm using Ubuntu 18.04.</p>
        <p>To configure the
          database, I followed some simple steps listed in the Ubuntu documentation for <a
            href="https://help.ubuntu.com/community/PostgreSQL#Alternative_Server_Setup">PostgreSQL</a>. I list them
          down below:</p>

        <pre>
          <b># Installation:</b>
          
          sudo apt-get install postgresql postgresql-contrib # server locally
          
          apt-cache search postgres # support packages
          
          sudo apt-get install pgadmin3 # gui

          <b># Basic Server Setup - if you intend to connect to the database from other machines:</b>
          
          sudo -u postgres psql postgres
          # this connects as a role with same name as the local user, i.e. "postgres", to the database called "postgres" (1st
          argument to psql)
          
          \password postgres 
          # set a password for the "postgres" database role
          
          \q or Ctrl+D
          #exit

          <b># Create database:</b>

          sudo -u postgres createdb MYDB 
          # change MYDB for the name you want to give your database

          <b># Alternative Server Setup - if you don't intend to connect to the database from other machines:</b>
          # By default in Ubuntu, Postgresql is configured to use 'ident sameuser' authentication for any connections from the same
          machine.
          The only user who can connect to a fresh install is the postgres user, so here's how to create yourself a database account
          (which is in this case also a database superuser) with the same name as your login name and then create a password for
          the user:

          sudo -u postgres createuser --superuser $USER
          # change $USER for the name you want the superuser to have

          sudo -u postgres psql
          # access PostgreSQL console
          
            postgres=# \password $USER
            # create a password for the user you created just before

          sudo -u postgres createdb $USER

          psql

          create database ANOTHERDB
        </pre>

        <p>And, make sure the database user provided in mysite/settings.py has ‚Äúcreate database‚Äù privileges. This
          allows automatic creation of a test database which will be needed in a later tutorial.</p>
        <p>If you‚Äôre using SQLite, you don‚Äôt need to create anything beforehand - the database file will be created
          automatically
          when it is needed.</p>
        <br>
        <p>While you‚Äôre editing <b>mysite/settings.py</b>, set TIME_ZONE to your time zone.</p>
        <p>Find your time zone <a href="http://en.wikipedia.org/wiki/List_of_tz_database_time_zones">here</a>. Example:
          for UTC+02:00, you can use:</p>
        <pre>
        TIME_ZONE = 'Europe/Istanbul'
        </pre>
        <p>And, we want to take a look at the <b>INSTALLED_APPS</b> setting at the top of the file. That holds the names
          of all Django applications that are activated in this Django instance. Apps can be used in multiple projects,
          and you can package and distribute them for use by others in their projects.</p>
        <p>By default, <b>INSTALLED_APPS</b> contains the following apps, all of which come with Django:</p>
        <ul>
          <li><b>django.contrib.admin</b> ‚Äì The admin site. You‚Äôll use it shortly.</li>
          <li><b>django.contrib.auth</b> ‚Äì An authentication system.</li>
          <li><b>django.contrib.contenttypes</b> ‚Äì A framework for content types.</li>
          <li><b>django.contrib.sessions</b> ‚Äì A session framework.</li>
          <li><b>django.contrib.messages</b> ‚Äì A messaging framework.</li>
          <li><b>django.contrib.staticfiles</b> ‚Äì A framework for managing static files.</li>
        </ul>
        <p>Some of these applications make use of at least one database table, though, so we need to create the tables
          in the database before we can use them. To do that, make sure you are in the same folder as <b>manage.py</b>
          and run the following command:</p>
        <code>python manage.py migrate</code>
        <p>The migrate command looks at the <b>INSTALLED_APPS</b> setting and creates any necessary database tables
          according to the database settings in your <b>mysite/settings.py</b> file and the database migrations shipped
          with the app. You‚Äôll see a message for each migration it applies. If you‚Äôre interested, run the command-line
          client for our database and type \dt (PostgreSQL) to display the tables Django created.</p>
      </section>
      <section class="main-section" id="PART_3">
        <header>
          <h1><a href="https://docs.djangoproject.com/en/2.2/intro/tutorial03/">Part 3</a></h1>
        </header>
        <code></code>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
      </section>
      <section class="main-section" id="PART_4">
        <header>
          <h1><a href="https://docs.djangoproject.com/en/2.2/intro/tutorial04/">Part 4</a></h1>
        </header>
        <code></code>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
      </section>
      <section class="main-section" id="PART_5">
        <header>
          <h1><a href="https://docs.djangoproject.com/en/2.2/intro/tutorial05/">Part 5</a></h1>
        </header>
        <p></p>
        <code></code>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
      </section>
      <section class="main-section" id="PART_6">
        <header>
          <h1><a href="https://docs.djangoproject.com/en/2.2/intro/tutorial06/">Part 6</a></h1>
        </header>
        <code></code>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
      </section>
      <section class="main-section" id="PART_7">
        <header>
          <h1><a href="https://docs.djangoproject.com/en/2.2/intro/tutorial07/">Part 7</a></h1>
        </header>
        <code></code>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
      </section>
    </main>

    <!--script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script-->



  </body>

</html>